我已完成 `NotionBlock` 的枚举重构，并为您设计了“每日 AI 总结”功能方案。

## 代码重构完成
1.  **创建枚举**: `NotionBlockType` (PARAGRAPH, TO_DO, etc.)
2.  **更新模型**: `NotionBlock` 现在直接使用 `NotionBlockType` 类型字段，替代了原有的 String + Setter 方式。

## 每日 AI 总结功能设计方案

### 1. 核心理念：不仅是“总结”，更是“陪伴”
要让功能吸引用户，不能只做冷冰冰的流水账摘要。我建议打造一个 **“AI 每日伴侣”** 的概念。

### 2. 功能亮点设计
*   **🔮 情绪气象台 (Mood Weather)**:
    *   分析用户全天的记录语气，生成当天的“情绪天气”（如：🌞 晴朗自信、🌧️ 略带忧郁、⚡ 充满激情）。
    *   **吸引点**: 用户喜欢了解自己的潜意识状态。
*   **💡 灵感连接 (Hidden Connections)**:
    *   找出用户当天不同记录之间潜在的联系（例如：早上的“想去海边”和晚上的“买泳衣”）。
    *   **吸引点**: 帮助用户发现自己思维的脉络。
*   **🎨 每日卡片 (Daily Card)**:
    *   生成一张精美的图片卡片（包含关键词云、核心金句），方便用户发朋友圈打卡。
    *   **吸引点**: 社交分享驱动。
*   **🎯 明日锦囊 (Tomorrow's Focus)**:
    *   基于今天的未完成事项或情绪状态，给出一条简短的建议或鼓励。

### 3. 交互流程设计
1.  **触发**: 每天 00:05 自动运行。
2.  **生成**:
    *   AI 读取当日所有笔记。
    *   生成一份结构化报告（Markdown 格式）。
3.  **推送**:
    *   **Notion 端**: 自动创建一个名为 `📅 2026-01-19 Daily Review` 的新页面，内容包含上述模块。
    *   **微信端**: 推送一条模板消息：“您的今日总结已生成！今日关键词：#奋斗 #焦虑。点击查看详情。”

### 4. 技术实现路线
1.  **数据存储**:
    *   需要新增 `message_log` 表，暂存用户发送的文本（目前只推送到 Notion，无法回溯查询用于总结）。
2.  **定时任务**:
    *   使用 Spring `@Scheduled(cron = "0 5 0 * * ?")`。
3.  **AI 服务**:
    *   接入 DeepSeek 或 OpenAI API。
    *   Prompt 设计：“你是一个贴心的私人助理，请根据以下用户今日的 10 条笔记，生成一份包含情绪分析、摘要和建议的日报...”

如果您觉得这个方案可行，我们可以先从 **“建立本地消息存储”** 开始，为 AI 总结积累数据。